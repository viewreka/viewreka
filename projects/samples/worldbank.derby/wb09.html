<html>
<body>

<h1>The wb09 project</h1>

<br/><a href="#general">General info</a>
<br/><a href="#project">Project description</a>
    <a href="#changes"><div style="text-indent: 20px;">Changes relative to the wb08 project</div></a>
    <a href="#dataSource"><div style="text-indent: 20px;">Data source</div></a>
    <a href="#about"><div style="text-indent: 20px;">The <em>About</em> view</div></a>
    <a href="#lifeExp"><div style="text-indent: 20px;">The <em>Life expectancy at birth</em> view</div></a>
    <a href="#lifeExpIncome"><div style="text-indent: 20px;">The <em>Aggregated life expectancy (income)</em> view</div></a>
    <a href="#lifeExpRegion"><div style="text-indent: 20px;">The <em>Aggregated life expectancy (region)</em> view</div></a>
<a href="#database">Database</a>

<h2 id="general">General info</h2>
<p/>This project provides three types of charts concerning the life expectancy at birth in the world.
<ul>
  <li>The view <em>Life expectancy at birth</em> displays XY charts of the life expectancy by country.</li>
  <li>The view <em>Aggregated life expectancy (income)</em> displays bar charts of the life expectancy by year, aggregated by gender and income groups.</li>
  <li>The view <em>Aggregated life expectancy (region)</em> displays bar charts of the life expectancy by year, aggregated by gender and region.</li>
</ul>
<h2 id="project">Project description</h2>

<h3 id="changes">Changes relative to the wb08 project:</h4>
<ul>
  <li>The views <em>Aggregated life expectancy (income)</em> and <em>Aggregated life expectancy (region)</em> have been added to the project.</li>
</ul>

<h3 id="dataSource">Data source</h3>
The project declares an SQL data source consisting of an embedded Derby database stored in a zip file located in the project's directory.
<br/>Because Viewreka sets the value of the system property <em>'user.dir'</em> to the directory of the current project, this property is used in the connection string to locate the database.

<h3 id="about">The <em>About</em> View</h3>
The <em>About</em> view provides an HTML chart with information about this project. The chart content is retrieved from an external file (and it is the document you are currently reading).

<h3 id="lifeExp">The <em>Life expectancy at birth</em> View</h3>
The <em>Life expectancy at birth</em> view provides an XY chart based on the dataset <em>dsLifeExp</em>, which is defined by a parameterized query.
<br/>The desired chart style can be selected from a combobox.
Groups of countries can be created by selecting the desired entries in the <em>prmRegion</em> and <em>prmIncome</em> comboboxes.
Then, the user can select a country from the group by using the <em>prmCountry</em> combobox, as seen below:
<br/><img src="img/region-income-combo-all.png"/>
<br/>It is also possible to manually iterate through the countries by using the arrow buttons or let the program iterate automatically by pressing the <img src="img/media-playback-start.png" style="position:relative; top:10px;"/> button.
<p/>The comboboxes <em>prmRegion</em> and <em>prmIncome</em> also contain an option for selecting all values of the associated parameter.

<h3 id="lifeExpIncome">The <em>Aggregated life expectancy (income)</em> View</h3>
The <em>Aggregated life expectancy (income)</em> view provides a bar chart based on the dataset <em> dsAggrLifeExpIncome</em>, which is defined by a parameterized query.
The desired year can be selected from a combobox, as seen below:
<br/><img src="img/prmYear.png"/>
<br/>It is also possible to manually iterate through the years by using the arrow buttons or let the program iterate automatically by pressing the <img src="img/media-playback-start.png" style="position:relative; top:10px;"/> button.

<h3 id="lifeExpRegion">The <em>Aggregated life expectancy (region)</em> View</h3>
The <em>Aggregated life expectancy (region)</em> view provides a bar chart based on the dataset <em> dsAggrLifeExpRegion</em>, which is defined by a parameterized query.
The desired year can be selected from a combobox, as seen below:
<br/><img src="img/prmYear.png"/>
<br/>It is also possible to manually iterate through the years by using the arrow buttons or let the program iterate automatically by pressing the <img src="img/media-playback-start.png" style="position:relative; top:10px;"/> button.


<h2 id="database">Database</h2>
<p/>This project uses a Derby database compiled from data provided by the <a href="http://data.worldbank.org/" target="_blank">World Bank</a>.
<p/>The database consists of four tables, as seen in the figure below:

<p/><img src="img/schema.png"/>

<p/>Below is a sample of the data contained in these tables:

<p/><table cellspacing="15">
<tr>
  <td rowspan="2">
    <b>TA_COUNTRY</b>
    <br/><img src="img/ta_country.png"/>
  </td>
  <td>
    <b>TA_REGION</b>
    <br/><img src="img/ta_region.png"/>
  </td>
</tr>
<tr>
  <td>
    <p/><b>TA_INCOME</b>
    <br/><img src="img/ta_income.png"/>
  </td>
</tr>
<tr>
  <td colspan="2">
    <p/><b>TA_INDICATOR</b>
    <br/><img src="img/ta_indicator.png"/>
  </td>
</tr>
</table>

<p>The database also contains two views that present the data in a user friendly form, as illustrated by the samples below:
<p/><b>V_COUNTRY</b>
<br/><img src="img/v_country.png"/>

<p/><b>V_INDICATOR</b>
<br/><img src="img/v_indicator.png"/>

</body>
</html>